created: 20260108020310868
description: git cherry-pickå‘½ä»¤è§£æï¼Œè¯¥å‘½ä»¤å¸¸ç”¨äºbugç´§æ€¥ä¿®å¤ï¼Œä»¥åŠæ—§ç‰ˆæœ¬çš„ç»´æŠ¤ã€‚
modified: 20260113020139947
progress: Completed
rating: Plain
tags: PermanentNotes Git
title: Git Cherry-pick å‘½ä»¤è§£æ
type: text/vnd.tiddlywiki
visibility: Public

!! cherry-pickçš„ä½œç”¨ï¼š

* æŠŠ''æŸä¸€ä¸ªæˆ–ä¸€ç»„ commit çš„æ”¹åŠ¨''ï¼Œä»¥â€œé‡æ–°ç”Ÿæˆæäº¤â€çš„æ–¹å¼ï¼Œåº”ç”¨åˆ°å½“å‰åˆ†æ”¯ä¸Šã€‚
* å¹¶ä¸æ˜¯â€œæŠŠå¦ä¸€ä¸ªåˆ†æ”¯ä¸Šçš„ commitï¼Œå¿«é€Ÿå¤åˆ¶åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ä¸Šâ€
* â€œæ•ˆæœä¸Šæ¥è¿‘å¤åˆ¶â€ï¼Œä½†å®ç°ä¸Šä¸æ˜¯å¤åˆ¶
* è™½ç„¶å†…å®¹ä¸€æ ·ï¼Œcommit message é€šå¸¸ä¸€æ ·ï¼Œä½†hash ä¸€å®šä¸ä¸€æ ·

; `cherry-pick` å®é™…åšçš„æ˜¯ï¼š
* å–å‡ºæŸä¸ª commit çš„ diff
* åœ¨å½“å‰åˆ†æ”¯ HEAD ä¸Šé‡æ–° apply
* ç„¶åç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„ commitã€‚

!! cherry-pick çš„åº”ç”¨åœºæ™¯

; hotfixï¼ˆæœ€ç»å…¸ï¼‰
* çº¿ä¸Šéœ€è¦ä¸€ä¸ªä¿®å¤ï¼Œä½†ä¸æƒ³ merge æ•´ä¸ªåˆ†æ”¯ã€‚
* feature åˆ†æ”¯é‡Œæœ‰ 10 ä¸ªæäº¤
* åªæœ‰ 1 ä¸ªæ˜¯ä¿® bug çš„
* merge ä¼šå¼•å…¥ä¸ç¨³å®šä»£ç 
* cherry-pick é‚£ä¸€ä¸ª

; å›ç§»æäº¤ï¼ˆbackportï¼‰
* è¿™ä¸ªä¿®å¤å·²ç»åœ¨ main ä¸Šäº†ï¼Œä½† release/1.0 ä¹Ÿè¦ã€‚

```bash
git checkout release/1.0
git cherry-pick <fix-commit>
```

å¸¸è§äºç»´æŠ¤ç‰ˆæœ¬ã€‚

!! å…³é”®å¯¹æ¯”

| !æ“ä½œ              | !æœ¬è´¨         | !æ˜¯å¦ä¿ç•™åŸåˆ†æ”¯ç»“æ„ |
|merge           |åˆå¹¶ä¸¤æ¡å†å²     |âœ…         |
|rebase          |é‡å†™å½“å‰åˆ†æ”¯å†å²   |âŒ         |
|''cherry-pick'' |''æ‘˜å–æäº¤å†…å®¹'' |âŒ         |

cherry-pick æ˜¯ï¼š

> ''â€œæˆ‘åªè¦è¿™ä¸ªæ”¹åŠ¨ï¼Œä¸è¦ä½ çš„å†å²ã€‚â€''

!! é£é™©ï¼š

; é‡å¤ cherry-pick
* å¦‚æœä½ cherry-pick äº† `F`ï¼Œåæ¥åˆ merge äº† `feature` åˆ†æ”¯ï¼ŒGit ä¸ä¸€å®šèƒ½è‡ªåŠ¨è¯†åˆ«è¿™æ˜¯åŒä¸€ä¸ªæ”¹åŠ¨
* å¯èƒ½ä¼šå‘ç”Ÿå†²çªæˆ–è€…é‡å¤ä»£ç 
* è¿™å« ''duplicate commit problem''

; é¡ºåºä¾èµ–
* å¦‚æœä½  `cherry-pick` ä¸€ä¸ªä¾èµ–å‰ç½®æäº¤çš„ commitï¼Œä½†æ²¡ cherry-pick å®ƒçš„ä¾èµ–
* ğŸ‘‰ å¾ˆå¯èƒ½ ''æ— æ³•ç¼–è¯‘ / è¡Œä¸ºå¼‚å¸¸''

!! è¿›é˜¶ï¼š

''cherry-pick æœ¬è´¨ä¸Šæ˜¯â€œå±€éƒ¨ rebaseâ€çš„ä¸€ç§å½¢å¼''ï¼Œç›¸å½“äºï¼š

```
git cherry-pick X
â‰ˆ
git rebase --onto HEAD X^ X
```

å®ƒä¸æ˜¯â€œæ¬åˆ†æ”¯â€ï¼Œè€Œæ˜¯â€œæ¬ä¸€æ®µ diffâ€

!! ä¸ƒã€ä»€ä¹ˆæ—¶å€™''ä¸è¯¥''ç”¨ cherry-pick

* ä¿ç•™å®Œæ•´çš„å¼€å‘ä¸Šä¸‹æ–‡
* è®©å†å²å¯è¿½æº¯
* åšé•¿æœŸåˆ†æ”¯åˆå¹¶

è¿™æ—¶åº”è¯¥ç”¨ `merge` æˆ– `rebase`ï¼Œè€Œä¸æ˜¯ `cherry-pick`ï¼Œ''å®ƒâ€œå¤åˆ¶çš„æ˜¯æ”¹åŠ¨ï¼Œä¸æ˜¯ commit æœ¬èº«â€ã€‚''

<<rememberq "20260108020428129"
	"cherry-pickæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"
	"ç²¾æŒ‘ç»†é€‰">>

<<rememberq "20260108021400605"
	"åœ¨ä½¿ç”¨cherry-pickå‰ï¼Œè¦æ³¨æ„ä»€ä¹ˆï¼Ÿ"
	"è¦å…ˆçœ‹çœ‹cherry-pick èƒ½ä¸èƒ½å¹²å‡€åº”ç”¨ï¼Œå†å†³å®šæ˜¯å¦ç”¨ merge / rebase">>

<<rememberq "20260108022011994"
	"cherry-pickçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"
	"æŠŠæŸä¸€ä¸ªæˆ–è€…æŸä¸€ç»„commitçš„æ”¹åŠ¨ï¼Œä»¥é‡æ–°ç”Ÿæˆæäº¤çš„æ–¹å¼ï¼Œåº”ç”¨åˆ°å½“å‰åˆ†æ”¯ä¸Šã€‚">>

<<rememberq "20260108022116796"
	"é»˜æƒ³ä¸€ä¸‹cherry-pickå®é™…åšçš„å·¥ä½œæ˜¯ä»€ä¹ˆï¼Ÿ"
	"å®ƒå®é™…åšçš„æ˜¯ï¼Œå–å‡ºæŸä¸ªcommitçš„diffï¼Œåœ¨å½“å‰åˆ†æ”¯ä¸Šé‡æ–°applyï¼Œç„¶åç”Ÿæˆä¸€ä¸ªå…¨æ–°çš„commitã€‚">>

<<rememberq "20260108022457898"
	"cherry-pickæ–°ç”Ÿæˆçš„commitï¼Œè·ŸåŸå…ˆçš„commitç›¸æ¯”ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«å—ï¼Ÿ"
	"diffå†…å®¹ä¸€æ ·ï¼Œcommit messageä¹Ÿä¸€æ ·ï¼Œä½†commit hashï¼Œä¹Ÿå°±æ˜¯indexå¾€å¾€ä¸ä¸€æ ·ã€‚">>

<<rememberq "20260108022556761"
	"é»˜æƒ³ä¸€ä¸‹cherry-pickçš„åº”ç”¨æƒ…æ™¯ï¼Ÿ"
	"hotfixï¼Œçº¿ä¸Šä¿®å¤ï¼ŒæŠŠå½“å‰åˆ†æ”¯ä¸Šçš„ä¸€ä¸ªcommitï¼Œcherry-pickåˆ°mainåˆ†æ”¯ä¸Šï¼Œè¿™æ ·æ—¢ä¸ä¼šå½±å“å½“å‰åˆ†æ”¯çš„å·¥ä½œç¯å¢ƒï¼Œä¹Ÿä¸ä¼šæŠŠä¸å¿…è¦çš„commit mergeåˆ°mainåˆ†æ”¯ä¸Šã€‚ä¹Ÿå¯ç”¨äºbackportï¼Œå³ç»´æŠ¤æ—§å‘è¡Œç‰ˆçš„bugä¿®å¤ã€‚">>

<<rememberq "20260108023012431"
	"ä½¿ç”¨cherry-pick æ—¶éœ€è¦æ³¨æ„å“ªäº›é—®é¢˜ï¼Ÿ"
	"æ³¨æ„é¿å…åœ¨æœªæ¥åˆå¹¶çš„æ—¶å€™é€ æˆå†…å®¹å†²çªï¼›æ³¨æ„æ˜¯å¦éœ€è¦ä¾èµ–å‰ç½®æäº¤çš„ commit">>

<<remembercz "20260108023224221"
	"å¦‚æœä½ å¸Œæœ›ä¿ç•™å®Œæ•´çš„å¼€å‘ä¸Šä¸‹æ–‡ï¼Œåº”è¯¥ä½¿ç”¨{rebase}æˆ–{merge}ï¼Œè€Œé{cherry-pick}ã€‚">>

<<remembercz "20260108021122601"
	"{cherry-pick}å¤åˆ¶çš„æ˜¯{commitä¸­åŒ…å«çš„æ”¹åŠ¨}ï¼Œè€Œé{commitæœ¬èº«}ã€‚">>