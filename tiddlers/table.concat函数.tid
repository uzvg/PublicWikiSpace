created: 20250629074304982
description: Luaä¸­table.concatå‡½æ•°çš„ä½œç”¨
modified: 20250629074815510
modifier: uzvg
progress: Completed
rating: Plain
source: Lua tableåŸºç¡€
tags: PermanentNotes Lua
title: table.concatå‡½æ•°
type: text/vnd.tiddlywiki
visibility: Public

!! ğŸŒŸ ä¸€å¥è¯è§£é‡Š

`table.concat(t, sep, i, j)` çš„ä½œç”¨æ˜¯ï¼š

> ''æŠŠè¡¨ t çš„æ•°ç»„éƒ¨åˆ†çš„å…ƒç´ æ‹¼æ¥æˆä¸€ä¸ªå­—ç¬¦ä¸²''

ä¸¾ä¸ªå½¢è±¡çš„æ¯”å–»ï¼š

* ä½ æœ‰ä¸€ä¸ªæ•°ç»„ï¼š`{"a", "b", "c"}`
* ä½ æƒ³è¦æŠŠå®ƒå˜æˆï¼š"a-b-c"

`table.concat()`å°±ä¸“é—¨å¹²è¿™ä¸ªäº‹æƒ…ã€‚

!! ğŸ“˜ åŸºæœ¬ç”¨æ³•

å‡è®¾ï¼š

```lua
local t = {"apple", "banana", "cherry"}
```

æœ€ç®€å•ç”¨æ³•ï¼š

```lua
local s = table.concat(t)
print(s)
```

è¾“å‡ºï¼š

```
applebananacherry
```

é»˜è®¤''æ²¡æœ‰åˆ†éš”ç¬¦''ã€‚

!! ğŸ“˜ åŠ ä¸Šåˆ†éš”ç¬¦

æ¯”å¦‚ç”¨é€—å·åˆ†éš”ï¼š

```lua
local s = table.concat(t, ", ")
print(s)
```

è¾“å‡ºï¼š

```
apple, banana, cherry
```

è¿™æ ·å°±åƒâ€œCSVâ€ã€‚

!! ğŸ“˜ æŒ‡å®šæ‹¼æ¥èŒƒå›´

å‡è®¾ï¼š

```lua
local t = {"a", "b", "c", "d"}
```

åªæ‹¼æ¥ç¬¬2åˆ°ç¬¬3ä¸ªï¼š

```lua
local s = table.concat(t, "-", 2, 3)
print(s)
```

è¾“å‡ºï¼š

```
b-c
```

å‚æ•°æ„ä¹‰ï¼š

* `t`ï¼šè¡¨
* `sep`ï¼šåˆ†éš”ç¬¦ï¼ˆå¯é€‰ï¼Œé»˜è®¤æ— ï¼‰
* `i`ï¼šå¼€å§‹ç´¢å¼•ï¼ˆå¯é€‰ï¼Œé»˜è®¤1ï¼‰
* `j`ï¼šç»“æŸç´¢å¼•ï¼ˆå¯é€‰ï¼Œé»˜è®¤#tï¼‰

!! ğŸ“˜ åº”ç”¨åœºæ™¯

`table.concat()`æœ€å¸¸è§çš„ç”¨é€”ï¼š

* âœ… æŠŠå­—ç¬¦ä¸²æ•°ç»„åˆå¹¶æˆä¸€ä¸ªå¤§å­—ç¬¦ä¸²ï¼ˆè¾“å‡ºã€å­˜å‚¨ã€ç½‘ç»œä¼ è¾“ï¼‰
* âœ… æ ¼å¼åŒ–åˆ—è¡¨ï¼ˆCSVã€æ—¥å¿—ï¼‰

!! ğŸ“˜ å®Œæ•´ä¾‹å­

```lua
local fruits = {"apple", "banana", "cherry"}

-- æ‹¼æ¥å…¨éƒ¨
print(table.concat(fruits))      --> applebananacherry

-- æ‹¼æ¥ï¼Œé€—å·åˆ†éš”
print(table.concat(fruits, ", ")) --> apple, banana, cherry

-- æ‹¼æ¥éƒ¨åˆ†
print(table.concat(fruits, "-", 2, 3)) --> banana-cherry
```

!! âš ï¸ æ³¨æ„

* `table.concat()`''åªæ‹¼æ¥æ•°ç»„éƒ¨åˆ†''ï¼ˆæ•´æ•°ç´¢å¼•ä»1å¼€å§‹ï¼‰
* å¦‚æœæ•°ç»„é‡Œæœ‰éå­—ç¬¦ä¸²ï¼Œä¼šå°è¯•è‡ªåŠ¨è½¬æˆå­—ç¬¦ä¸²
* å¦‚æœä½ ç»™çš„i/jè¶Šç•Œï¼Œå®ƒä¼šè‡ªåŠ¨å¿½ç•¥ä¸å­˜åœ¨çš„ç´¢å¼•

!! ğŸ é¢å¤–æç¤º

å¦‚æœä½ æœ‰ä¸€ä¸ª''mapè¡¨''ï¼š

```lua
local t = {name="Tom", age="20"}
```

`table.concat(t)`æ˜¯''ä¸å·¥ä½œçš„''ï¼Œå› ä¸ºå®ƒä¸çœ‹å­—ç¬¦ä¸²keyã€‚

å¦‚æœæƒ³è¦æŠŠé”®å€¼å¯¹æ‹¼æ¥ï¼Œå¯ä»¥ç”¨`pairs()`è‡ªå·±æ‹¼ï¼š

```lua
local t = {name="Tom", age="20"}
local parts = {}
for k,v in pairs(t) do
    table.insert(parts, k .. "=" .. v)
end
local s = table.concat(parts, ", ")
print(s)
-- è¾“å‡ºï¼šname=Tom, age=20 (é”®å€¼å¯¹)
```