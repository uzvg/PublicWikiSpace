created: 20250607134036170
description: Python dict ç±»å‹çš„ç³»ç»Ÿæ€»ç»“ï¼ŒåŒ…æ‹¬æ ¼å¼ã€åˆ›å»ºã€åŸºæœ¬æ“ä½œã€è¿­ä»£ã€åµŒå¥—ã€ä»¥åŠå¸¸è§æ³¨æ„äº‹é¡¹
modified: 20260208152444732
modifier: uzvg
progress: Completed
rating: Plain
tags: Python PermanentNotes dict(å­—å…¸)
title: Python dict
type: text/vnd.tiddlywiki
visibility: Public

!! âœ… ä¸€ã€åŸºç¡€æ ¼å¼ï¼š

```py
# åŸºæœ¬æ ¼å¼ï¼š{key1: value1, key2: value2, ...}
person = {
    "name": "Alice",
    "age": 30,
    "is_student": False
}
```

!! äºŒã€åˆ›å»º dictï¼š

!!! 1. ä½¿ç”¨å¤§æ‹¬å· `{}` ç›´æ¥å®šä¹‰

```python
d = {"a": 1, "b": 2}
```

!!! 2. ä½¿ç”¨å†…ç½®å‡½æ•° `dict()`

```python
d = dict(a=1, b=2)  # é”®å¿…é¡»æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦ï¼ˆä¸èƒ½å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼‰
```

!!! 3. ä½¿ç”¨å¯è¿­ä»£å¯¹è±¡ï¼ˆå¦‚åˆ—è¡¨ã€å…ƒç»„ï¼‰åˆ›å»º

```python
d = dict([("a", 1), ("b", 2)])
```

!!! 4. ä½¿ç”¨å­—å…¸æ¨å¯¼å¼

```python
squares = {x: x**2 for x in range(5)}  # {0: 0, 1: 1, ..., 4: 16}
```

!!! æ³¨æ„äº‹é¡¹ï¼š

* æ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª `key: value` å¯¹ã€‚
* é”®å¿…é¡»å”¯ä¸€ï¼Œå¦åˆ™ä¼šè¢«åè€…è¦†ç›–ã€‚
* é”®ï¼ˆkeyï¼‰å¿…é¡»æ˜¯ ''hashableï¼ˆå¯å“ˆå¸Œçš„ï¼‰''å¯¹è±¡ï¼Œï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ã€å…ƒç»„ï¼‰ï¼Œè€Œ å€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚

```
hash("abc")     # âœ…
hash(123)       # âœ…
hash((1, 2))    # âœ…
hash([1, 2])    # âŒ TypeError
hash({1: 2})    # âŒ
```

!! ä¸‰ã€åŸºæœ¬æ“ä½œï¼š

!!! 1. è®¿é—®å…ƒç´ ï¼š

```py
person["name"]     # "Alice"
```

ä½¿ç”¨ `.get()` å¯ä»¥é¿å… KeyErrorï¼š

```py
person.get("age")         # 30
person.get("gender", "N/A")  # "N/A"ï¼ˆé»˜è®¤å€¼ï¼‰
```

; ä½¿ç”¨åœºæ™¯ï¼š
* `[]` ğŸ‘‰ ç¡®ä¿¡è¿™ä¸ª key å¿…é¡»å­˜åœ¨
* `.get()` ğŸ‘‰	è¿™ä¸ª key å¯èƒ½ä¸å­˜åœ¨ï¼Œæ˜¯â€œå¯é€‰çš„â€
* æ‰€ä»¥åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼š
** å¿…é¡»å­˜åœ¨ â†’ `[]`
** å¯é€‰å­—æ®µ â†’ `.get()`
* è¿™æ˜¯â€œä»£ç è¡¨è¾¾æ„å›¾â€çš„é—®é¢˜ï¼Œè€Œä¸åªæ˜¯é˜²é”™ã€‚

!!! 2. æ·»åŠ /æ›´æ–°é”®å€¼å¯¹

```py
person["city"] = "Beijing"     # æ·»åŠ 
person["age"] = 35             # æ›´æ–°
```

!!! 3. åˆ é™¤é”®å€¼å¯¹

|tc-max-width|k
|!æ“ä½œ|!ç¤ºä¾‹|
|`del`       |`del person["name"]`                         |
|`pop()`     |`person.pop("age")`                          |
|`popitem()` |`person.popitem()`ï¼ˆå¼¹å‡ºå¹¶è¿”å›â€œæœ€åæ’å…¥çš„ (key, value)â€ï¼‰ |
|`clear()`   |`person.clear()`ï¼ˆæ¸…ç©ºå­—å…¸ï¼‰                       |

!! å››ã€éå†dictï¼š

!!! 1. éå†é”®

```python
for key in person:
    print(key, person[key])
```

!!! 2. éå† `.keys()`

```python
for key in person.keys():
    print(key)
```

!!! 3. éå† `.values()`

```python
for value in person.values():
    print(value)
```

!!! 4. éå† `.items()`

```python
for key, value in person.items():
    print(f"{key} â†’ {value}")
```

!! äº”ã€åµŒå¥—å­—å…¸ï¼š

!!! 1. å­—å…¸ä¸­çš„å­—å…¸

```python
students = {
    "Alice": {"age": 20, "grade": "A"},
    "Bob": {"age": 22, "grade": "B"}
}

print(students["Alice"]["grade"])  # A
```

!!! 2. ä¿®æ”¹åµŒå¥—å€¼

```python
students["Bob"]["grade"] = "A+"
```

!! å…­ã€å…¶ä»–å¸¸ç”¨æ“ä½œä¸æŠ€å·§ï¼š

!!! 1. åˆ¤æ–­é”®æ˜¯å¦å­˜åœ¨

```python
if "age" in person:
    print("Age exists")
```

!!! 2. åˆå¹¶ä¸¤ä¸ªå­—å…¸

```py
d1 = {"a": 1}
d2 = {"b": 2}
d1.update(d2)      # d1 å˜ä¸º {"a": 1, "b": 2}
```

!!! 3. ä½¿ç”¨ `setdefault()` è®¾ç½®é»˜è®¤å€¼

```python
d = {}
d.setdefault("name", "Unknown")  # è®¾ç½®é»˜è®¤å€¼ï¼ˆä¸ä¼šè¦†ç›–å·²æœ‰å€¼ï¼‰
```

!!! 4. ä½¿ç”¨å­—å…¸æ¨å¯¼å¼ï¼ˆdict comprehensionï¼‰

```py
# å­—æ¯å¯¹åº” ASCII ç 
ascii_map = {chr(i): i for i in range(65, 70)}
# {'A': 65, 'B': 66, ..., 'E': 69}
```

!! âš ï¸ ä¸ƒã€æ³¨æ„äº‹é¡¹æ€»ç»“

|tc-max-width|k
|!æ³¨æ„ç‚¹|!è¯´æ˜|
|é”®å”¯ä¸€         |åé¢ç›¸åŒé”®ä¼šè¦†ç›–å‰é¢çš„å€¼                |
|é”®ç±»å‹         |å¿…é¡»æ˜¯ä¸å¯å˜ç±»å‹ï¼ˆå¦‚ str, int, tupleï¼‰ |
|`.get()`    |å®‰å…¨è®¿é—®é”®ï¼Œæ¨èä½¿ç”¨                  |
|`.update()` |ç”¨äºåˆå¹¶å­—å…¸æˆ–æ›´æ–°å†…å®¹                 |
|åµŒå¥—è®¿é—®        |å¤šå±‚åµŒå¥—æ—¶å»ºè®®ä½¿ç”¨ `.get()` åŠ é»˜è®¤å€¼é˜²æ­¢é”™è¯¯ |